@model List<SchoolProject.Models.SchoolDbContext.Course>;
@{
    ViewData["Title"] = "LessonSchedule";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>LessonSchedule</h2>


<table id="lesson-schedule" class="table table-striped table-bordered" style="width:100%">
    <tr>
        <th>Monday</th>
        @foreach (var course in Model.Where(c=>c.Section.Where(s=>s.MeetsOn == 1).Any()))
        {
            <td>@course.Cname - @string.Join(',', course.Section.Where(s=>s.MeetsOn == 1).Select(s=> s.MeetsAt.ToString(@"hh\:mm") + "-" + s.EndsAt?.ToString(@"hh\:mm")))</td>
        }
    </tr>
    <tr>
        <th>Tuesday</th>
        @foreach (var course in Model.Where(c => c.Section.Where(s => s.MeetsOn == 2).Any()))
        {
            <td>@course.Cname - @string.Join(',', course.Section.Where(s => s.MeetsOn == 2).Select(s => s.MeetsAt.ToString(@"hh\:mm") + "-" + s.EndsAt?.ToString(@"hh\:mm")))</td>
        }
    </tr>
    <tr>
        <th>Wednesday</th>
        @foreach (var course in Model.Where(c => c.Section.Where(s => s.MeetsOn == 3).Any()))
        {
            <td>@course.Cname - @string.Join(',', course.Section.Where(s => s.MeetsOn == 3).Select(s => s.MeetsAt.ToString(@"hh\:mm") + "-" + s.EndsAt?.ToString(@"hh\:mm")))</td>
        }
    </tr>
    <tr>
        <th>Thursday</th>
        @foreach (var course in Model.Where(c => c.Section.Where(s => s.MeetsOn == 4).Any()))
        {
            <td>@course.Cname - @string.Join(',', course.Section.Where(s => s.MeetsOn == 4).Select(s => s.MeetsAt.ToString(@"hh\:mm") + "-" + s.EndsAt?.ToString(@"hh\:mm")))</td>
        }
    </tr>
    <tr>
        <th>Friday</th>
        @foreach (var course in Model.Where(c => c.Section.Where(s => s.MeetsOn == 5).Any()))
        {
            <td>@course.Cname - @string.Join(',', course.Section.Where(s => s.MeetsOn == 5).Select(s => s.MeetsAt.ToString(@"hh\:mm") + "-" + s.EndsAt?.ToString(@"hh\:mm")))</td>
        }
    </tr>
</table>

<script>
    $('lesson-schedule').DataTable();
</script>